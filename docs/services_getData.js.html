<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: services/getData.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: services/getData.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { USER_MAIN_DATA, USER_ACTIVITY, USER_PERFORMANCE, USER_AVERAGE_SESSIONS } from "../assets/data/mockData";
import { USER_ID, DATA_SRC, URI, PATH_USER } from "../config";
import get from "../helper/fetchWrapper";

/**
 * Get user main data from API or MOCK data
 * @returns {Object} : user infos
 */
const getUserInfos = () => {
  if (DATA_SRC === "API") {
    return get(URI + PATH_USER + USER_ID)
  }
  return findById(USER_MAIN_DATA, "id")
}

/**
 * Get user weight and burned calories infos by day from API or MOCK data
 * @returns {Object} : user activity
 */
const getActivity = () => {
  if (DATA_SRC === "API") {
    return get(URI + PATH_USER + USER_ID + "/activity")
  }
  return findById(USER_ACTIVITY, "userId")
}

/**
 * Get user performance values in each kind of skills from API or MOCK data
 * @returns {Object} : user performance
 */
const getPerformance = () => {
    if(DATA_SRC === "API") {
        return get(URI + PATH_USER + USER_ID + "/performance")
    }
    return findById(USER_PERFORMANCE, "userId")
}

/**
 * Get user average sessions duration by day from API or MOCK data
 * @returns {Object} : user average sessions
 */
const getAverageSessions = () => {
    if (DATA_SRC === "API") {
        return get(URI + PATH_USER + USER_ID + "/average-sessions")
    }
    return findById(USER_AVERAGE_SESSIONS, "userId")
}

/**
 * Finds Mock data by user id
 * @param {Array.&lt;Object>} data fulldata
 * @param {string} userId
 * @returns {Object} data by user id
 */
const findById = (data,userId) => {
  return data.find(user => user[userId] === USER_ID)
}

export {getUserInfos, getActivity, getPerformance, getAverageSessions};</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#App">App</a></li><li><a href="global.html#BarGraphic">BarGraphic</a></li><li><a href="global.html#findById">findById</a></li><li><a href="global.html#get">get</a></li><li><a href="global.html#getActivity">getActivity</a></li><li><a href="global.html#getAverageSessions">getAverageSessions</a></li><li><a href="global.html#getPerformance">getPerformance</a></li><li><a href="global.html#getUserInfos">getUserInfos</a></li><li><a href="global.html#Header">Header</a></li><li><a href="global.html#LeftNav">LeftNav</a></li><li><a href="global.html#LineGraphic">LineGraphic</a></li><li><a href="global.html#RadarGraphic">RadarGraphic</a></li><li><a href="global.html#RadialGraphic">RadialGraphic</a></li><li><a href="global.html#USER_ID">USER_ID</a></li><li><a href="global.html#UserGreetings">UserGreetings</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Mon Feb 28 2022 13:29:48 GMT+0100 (heure normale dâ€™Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
